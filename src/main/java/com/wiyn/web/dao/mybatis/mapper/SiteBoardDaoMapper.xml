<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wiyn.web.dao.SiteBoardDao">

<select id="getBoard" resultType="com.wiyn.web.entity.SiteBoard">
	SELECT id,
	    title,
	    content,
	    regDate,
	    hit,
	    url,
	    tagId,
	    memberId,
	    bigCategoryId
	FROM SiteBoard
	WHERH id=#{id}
</select>

<insert id="add" parameterType="com.wiyn.web.entity.SiteBoard">
	<selectKey order="BEFORE" keyProperty="id" resultType="String">
		select max(cast(id as unsigned))+1 id from SiteBoard
	</selectKey>
		INSERT INTO `lsedb`.`SiteBoard`
			(`id`,
			`title`,
			`content`,
			`regDate`,
			`url`,
			`memberId`
			)
			VALUES
			(
			#{id},
			#{title},
			#{content},
			now(),
			#{url},
			#{memberId}
			)		
</insert>

</mapper>